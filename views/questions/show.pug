extends ../layout

block content
  .container
    h1.main-title= question.title

    .question.show
      .container
        .alert.alert-secondary
          | 이벤트 내용 
          .content= question.content
        include _question

      .buttons
        if currentUser
          button.btn.btn-primary.question-like-btn(data-id=question.id) 
            span #[i.fa.fa-thumbs-up] Like     

        a.btn.btn-success(href=`/questions/${question.id}/participate?_method=post`) 참여신청
        if currentUser && question.author.id == currentUser.id
          | 
          a.btn.btn-outline-secondary(href=`/questions/${question.id}/edit`) Edit
          | 
          a.btn.btn-outline-danger.need-confirm-btn(href=`/questions/${question.id}?_method=delete`) Delete
          |

          .container
            | 참여 명단 :
            each parPeople in participates
              .card(style="width:30em;")
                .card-header
                  | 이 름 :
                  a #{parPeople.author.name}
                .card-body
                  p.card-text(style="text-align:left;") email : #{parPeople.author.email} 
                  a.btn.btn-primary(href=`/users/${parPeople.author.id}`) 상세정보       

    if question.numAnswers > 0
      hr
      h3 #{question.numAnswers} Answer(s)
      .answers.show
        each answer in answers
          include _answer

    form(action=`/questions/${question.id}/answers`, method='POST')
      .form-group
        label(for='answer') 질문
        textarea.form-control(name="content", rows="5")
      button.btn.btn-primary(type="submit") 질문하기

  script(src='/javascripts/question_client.js')

